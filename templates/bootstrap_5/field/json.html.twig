{% set value = agFieldValue(entity, field) %}
{% if (value is null or value is same as '') %}
    -
{% elseif (action is same as 'grid') %}
    {{ value|json_encode|agTruncate(field.view.grid_truncate) }}
{% else %}
    <pre>{{ value|json_encode(constant('JSON_PRETTY_PRINT')) }}</pre>
{% endif %}
